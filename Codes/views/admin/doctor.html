<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<style>
    .list-container{
        padding: 5px;
        background-color: grey;
    }
    .item{
        display: inline-block;
        margin: 10px;
    }
</style>
<body>

<div class="doctorList-container">
<table id="doctorList">

</table>

</div>

<div class="add-container">
<p class="item">
    头衔：<input id="input-title" type="text" />
</p>
    <p class="item">
        名字：<input id="input-name" type="text" />
    </p>
    <p class="item">
        描述：<input id="input-spec" type="text" />
    </p>
    <p class="item">
        简介：<input id="input-desc" type="text" />
    </p>
    <button id="submit">添加</button>
</div>
<div id="list-container" class="list-container">

</div>
<script src="../javascripts/jquery.min.js"></script>
<script src="../javascripts/netclient.js"></script>
<script>
    var netclient=new NetClient();
    getList();
    $('#submit').on('click',function(){
        var title=$('#input-title').val();
        var name=$('#input-name').val();
        var spec=$('#input-spec').val();
        var desc=$('#input-desc').val();
        var params={
            title:title,
            name:name,
            spec:spec,
            desc:desc,
        };
        netclient.getData('doctor','addModel',params,function (data) {
           getList();
        })

    });
    function getList(){
        netclient.getData('doctor','selectAllDoctors',{a:'a'},function (data) {
            var container=$('#list-container');
            var html='';
            for(var i=0;i<data.length;i++){
                var item=data[i];
                if(typeof(item.json)=='string'){
                    item.json=JSON.parse(item.json);
                }
                html+='<div class="row">\
                        <span id="title" class="item">'+item.json["title"]+'</span>\
                        <span id="name" class="item">'+item.json["name"]+'</span>\
                        <span id="desc" class="item">'+item.json["desc"]+'</span>\
                        \ <span id="spec" class="item">'+item.json["spec"]+'</span>\
                        </div>';
            }
            container.html(html);
        });
    }
</script>
</body>
</html>